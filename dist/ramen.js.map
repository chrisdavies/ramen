{"version":3,"sources":["webpack:///webpack/bootstrap e890b9e5cb53a9dcfaf3","webpack:///./src/main.js","webpack:///./src/animator.js","webpack:///./src/game-loop.js","webpack:///./src/keys.js","webpack:///./src/sprite.js"],"names":["ramen","top","left","height","width","url","scale","speed","animations","up","offsetX","offsetY","numFrames","down","right","flip","document","body","appendChild","el","animate","location","hostname","write","host","split","animator","definition","currentAnimation","frame","nextFrame","animation","style","backgroundPositionX","backgroundPositionY","transform","gameLoop","fps","fn","fpms","loop","now","Date","setTimeout","Math","max","keys","addEventListener","e","keyCode","sprite","pos","createSpriteEl","runAnimation","move","createElement","className","background"],"mappings":"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","file":"./dist/ramen.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e890b9e5cb53a9dcfaf3","'use strict';\n\nimport sprite from './sprite';\nimport gameLoop from './game-loop';\nimport keys from './keys';\n\nconst ramen = sprite({\n  top: 100,\n  left: 100,\n  height: 30,\n  width: 30,\n  url: 'img/sprite.png',\n  scale: 3,\n  speed: 10,\n  animations: {\n    up: {\n      offsetX: 3,\n      offsetY: 779,\n      numFrames: 10,\n    },\n\n    down: {\n      offsetX: 3,\n      offsetY: 0,\n      numFrames: 10,\n    },\n\n    left: {\n      offsetX: 3,\n      offsetY: 1530,\n      numFrames: 10,\n    },\n\n    right: {\n      offsetX: 3,\n      offsetY: 1530,\n      numFrames: 10,\n      flip: true,\n    },\n  },\n});\n\ndocument.body.appendChild(ramen.el);\n\ngameLoop(30, function () {\n  ramen.animate(keys);\n});\n\n// Add live-reload to make development a bit easier...\nif (location.hostname === 'localhost') {\n  document.write('<script src=\"http://' + (location.host || 'localhost').split(':')[0] + ':8080/livereload.js?snipver=2\"></' + 'script>');\n}\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","'use strict';\n\n// Creates a runAnimation function\nexport default function animator(el, definition) {\n  const scale = definition.scale;\n  const width = definition.width;\n\n  let currentAnimation;\n  let frame = 0;\n\n  function nextFrame(animation) {\n    el.style.backgroundPositionX = -((frame + animation.offsetX) * width) + 'px';\n    frame = (frame + 1) % animation.numFrames;\n  }\n\n  return function (animation) {\n    if (currentAnimation === animation) {\n      return nextFrame(animation);\n    }\n\n    currentAnimation = animation;\n\n    el.style.backgroundPositionY = -animation.offsetY + 'px';\n    el.style.transform = 'scale(' + (animation.flip ? -scale : scale) + ',' + scale + ')';\n\n    nextFrame(animation);\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/animator.js","'use strict';\n\n// Runs the main game loop at the specified frames per second\nexport default function gameLoop(fps, fn) {\n  const fpms = 1000 / fps;\n\n  function loop() {\n    const now = Date.now();\n\n    fn();\n    setTimeout(loop, Math.max(5, fpms - (Date.now() - now)));\n  }\n\n  loop();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/game-loop.js","'use strict';\n\nconst keys = {\n  get up() {\n    return keys[38];\n  },\n  get down() {\n    return keys[40];\n  },\n  get left() {\n    return keys[37];\n  },\n  get right() {\n    return keys[39];\n  }\n}\n\ndocument.addEventListener('keydown', function (e) {\n  keys[e.keyCode] = true;\n});\n\ndocument.addEventListener('keyup', function (e) {\n  keys[e.keyCode] = false;\n});\n\nexport default keys;\n\n\n\n// WEBPACK FOOTER //\n// ./src/keys.js","'use strict';\n\nimport animator from './animator';\n\n// Creates a state manager for an animated sprite\nexport default function sprite(definition) {\n  const pos = {\n    top: definition.top,\n    left: definition.left,\n  };\n\n  const animations = definition.animations;\n\n  const el = createSpriteEl(definition);\n\n  const runAnimation = animator(el, definition);\n\n  function move(keys) {\n    if (keys.down) {\n      el.style.top = (pos.top = pos.top + definition.speed) + 'px';\n    } else if (keys.up) {\n      el.style.top = (pos.top = pos.top - definition.speed) + 'px';\n    }\n\n    if (keys.right) {\n      el.style.left = (pos.left = pos.left + definition.speed) + 'px';\n    } else if (keys.left) {\n      el.style.left = (pos.left = pos.left - definition.speed) + 'px';\n    }\n  }\n\n  function animate(keys) {\n    if (keys.down) {\n      runAnimation(animations.down);\n    } else if (keys.up) {\n      runAnimation(animations.up);\n    } else if (keys.right) {\n      runAnimation(animations.right);\n    } else if (keys.left) {\n      runAnimation(animations.left);\n    }\n  }\n\n  return {\n    el: el,\n\n    animate(keys) {\n      move(keys);\n      animate(keys);\n    }\n  };\n}\n\nfunction createSpriteEl(definition) {\n  const el = document.createElement('div');\n\n  el.className = 'ramen';\n  el.style.background = 'url(' + definition.url + ')';\n  el.style.transform = 'scale(' + definition.scale + ')';\n  el.style.width = definition.width + 'px';\n  el.style.height = definition.height + 'px';\n  el.style.top = definition.top + 'px';\n  el.style.left = definition.left + 'px';\n\n  return el;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/sprite.js"],"sourceRoot":""}